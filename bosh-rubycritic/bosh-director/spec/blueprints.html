<!DOCTYPE html>
<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ruby Critic - Home</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- StyleSheets -->
    <link href="../../assets/stylesheets/bootstrap.min.css" media="screen, projection, print" rel="stylesheet" type="text/css">
    <link href="../../assets/stylesheets/font-awesome.min.css" media="screen, projection, print" rel="stylesheet" type="text/css">
    <link href="../../assets/stylesheets/prettify.custom_theme.css" media="screen, projection, print" rel="stylesheet" type="text/css">
    <link href="../../assets/stylesheets/application.css" media="screen, projection, print" rel="stylesheet" type="text/css">
  </head>

  <body>
    <header class="navbar navbar-default navbar-fixed-top">
      <a href="#menu-toggle" class="btn btn-default hidden-lg visible-sm-* hidden-md visible-xs-* pull-left" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a>
      <a href="../../overview.html"><img src="../../assets/images/logo.png" title="Ruby Critic Logo" width="55"><span class="logo">RUBYCRITIC</span></a>
    </header>
    <div id="wrapper">
      <!-- Sidebar -->
      <aside id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-item">
            <a href="../../overview.html" class="project-nav-item overview-nav"><i class="fa fa-dashboard"></i>Overview</a>
          </li>
          <li class="sidebar-item">
            <a href="../../code_index.html" class="project-nav-item code-index-nav"><i class="fa fa-code"></i>Code</a>
          </li>
          <li class="sidebar-item">
            <a href="../../smells_index.html" class="project-nav-item smells-index-nav"><i class="fa fa-warning"></i>Smells</a>
          </li>
        </ul>
      </aside>
      <!-- /#sidebar-wrapper -->
      <div id="page-content-wrapper">
        <div class="container-fluid">
          <div class="row">
  <!--Page Title -->
  <div class="Page_Title">
    <div class="file-time">
      <span class="committed-at">
        
          Updated <time class='js-timeago' datetime='2018-04-27 13:46:36 -0700'>2018-04-27 13:46:36 -0700</time>
        
      </span>
    </div>
    <div>
      <h3><small>bosh-director/spec /</small> blueprints.rb</h3>
    </div>
  </div>
  <!--End Page Title -->
  <div class="Content_Wrapper">
    <!-- code detail -->
    <div class="code-top-detail clearfix row">
      <div class="col-md-8">
        <div class="row">
          <div class="col-md-1">
            <div class="rating c big">
              C
            </div>
          </div>
          <div class="code-statistics col-md-11">
            <div class="col-md-3">
              <div><span class="metric">313</span><small> lines of codes</small></div>
              <div><span class="metric">0</span><small> methods</small></div>
            </div>
            <div class="col-md-3">
              <div><span class="metric">N/A</span><small> complexity/method</small></div>
              <div><span class="metric">94</span><small> churn</small></div>
            </div>
            <div class="col-md-3">
              <div><span class="metric">0.0</span><small> complexity</small></div>
              <div><span class="metric">217</span><small> duplications</small></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="code-tabs">
          <ul class="nav nav-pills right-to-left">
            <li><a href="#" id="toggle-code" class="toggle-button button">code</a></li>
            <li class="active">
              <a href="#" id="toggle-smells" class="toggle-button button">
                7
                smells
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <code class="prettyprint linenums lang-ruby file-code js-file-code">require_relative &#39;../../spec/support/deployments&#39;

Sham.define do
  name             { |index| &quot;name-#{index}&quot; }
  username         { |index| &quot;username-#{index}&quot; }
  object_name      { |index| &quot;deployment-#{index}&quot; }
  password         { |index| &quot;password-#{index}&quot; }
  version          { |index| &quot;version-#{index}&quot; }
  fingerprint      { |index| &quot;fingerprint-#{index}&quot; }
  manifest         { |index| &quot;manifest-#{index}&quot; }
  job              { |index| &quot;job-#{index}&quot; }
  vm_cid           { |index| &quot;vm-cid-#{index}&quot; }
  disk_cid         { |index| &quot;disk-cid-#{index}&quot; }
  snapshot_cid     { |index| &quot;snapshot-cid-#{index}&quot; }
  stemcell_cid     { |index| &quot;stemcell-cid-#{index}&quot; }
  stemcell_os      { |index| &quot;stemcell-os-#{index}&quot; }
  stemcell_version { |index| &quot;stemcell-version-#{index}&quot; }
  instance_id      { |index| &quot;instance-id-#{index}&quot; }
  blobstore_id     { |index| &quot;blobstore-id-#{index}&quot; }
  agent_id         { |index| &quot;agent-id-#{index}&quot; }
  uuid             { |index| &quot;uuid-#{index}&quot; }
  director_uuid    { |index| &quot;director-uuid-#{index}&quot; }
  index            { |index| index }
  description      { |index| &quot;description #{index}&quot; }
  type             { |index| &quot;type #{index}&quot; }
  sha1             { |index| &quot;sha1-#{index}&quot; }
  build            { |index| index }
  ip               do |index|
    octet = index % 255
    &quot;#{octet}.#{octet}.#{octet}.#{octet}&quot;
  end
  ptr do |index|
    octet = index % 255
    &quot;#{octet}.#{octet}.#{octet}.in-addr.arpa&quot;
  end
  lock_name { |index| &quot;lock-resource-entity#{index}&quot; }
end

module Bosh::Director::Models<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="https://github.com/troessner/reek/blob/master/docs/Irresponsible-Module.md" target="_blank"><b>IrresponsibleModule</b></a>        </span>      </div>      <span>Bosh::Director::Models has no descriptive comment</span>          </div>  </li></ol>
  DirectorAttribute.blueprint do
    name { &#39;uuid&#39; }
    value { Sham.director_uuid }
  end

  Release.blueprint do
    name { Sham.name }
  end

  ReleaseVersion.blueprint do
    release { Release.make }
    version { Sham.version }
  end

  Package.blueprint do
    release             { Release.make }
    name                { Sham.name }
    version             { Sham.version }
    blobstore_id        { Sham.blobstore_id }
    sha1                { Sham.sha1 }
    dependency_set_json { &#39;[]&#39; }
  end

  Template.blueprint do
    release
    name                { Sham.name }
    version             { Sham.version }
    blobstore_id        { Sham.blobstore_id }
    sha1                { Sham.sha1 }
    package_names_json  { &#39;[]&#39; }
    fingerprint         { Sham.fingerprint }
  end

  Stemcell.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 5 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L73" class="js-smell-location">0</a>                  <a href="blueprints.html#L143" class="js-smell-location">1</a>                  <a href="blueprints.html#L157" class="js-smell-location">2</a>                  <a href="blueprints.html#L225" class="js-smell-location">3</a>                  <a href="blueprints.html#L250" class="js-smell-location">4</a>                  </div>  </li></ol>
    name      { Sham.name }
    version   { Sham.version }
    cid       { Sham.stemcell_cid }
  end

  StemcellUpload.blueprint do
    name      { Sham.name }
    version   { Sham.version }
  end

  CompiledPackage.blueprint do
    package           { Package.make }
    build             { Sham.build }
    blobstore_id      { Sham.blobstore_id }
    sha1              { Sham.sha1 }
    stemcell_os       { Sham.stemcell_os }
    stemcell_version  { Sham.stemcell_version }
    dependency_key    { &#39;[]&#39; }
  end

  Deployment.blueprint do
    name      { Sham.name }
    manifest  { Sham.manifest }
  end

  Instance.blueprint do
    deployment  { Deployment.make }
    job         { Sham.job }
    index       { Sham.index }
    state       { &#39;started&#39; }
    uuid        { Sham.uuid }
    variable_set { VariableSet.make }
  end

  IpAddress.blueprint do
    address_str { NetAddr::CIDR.create(Sham.ip).to_i.to_s }
    instance { Instance.make }
    static { false }
    network_name { Sham.name }
    task_id { Sham.name }
    created_at { Time.now }
  end

  Task.blueprint do
    state       { &#39;queued&#39; }
    type        { Sham.type }
    timestamp   { Time.now }
    description { Sham.description }
    result      { nil }
    output      { nil }
    result_output { nil }
    event_output { nil }
  end

  PersistentDisk.blueprint do
    active      { true }
    disk_cid    { Sham.disk_cid }
    instance    do
      is = Instance.make
      vm = Vm.make(instance_id: is.id)
      is.active_vm = vm
    end
  end

  Snapshot.blueprint do
    persistent_disk { PersistentDisk.make }
    snapshot_cid    { Sham.snapshot_cid }
  end

  OrphanDisk.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 5 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L73" class="js-smell-location">0</a>                  <a href="blueprints.html#L143" class="js-smell-location">1</a>                  <a href="blueprints.html#L157" class="js-smell-location">2</a>                  <a href="blueprints.html#L225" class="js-smell-location">3</a>                  <a href="blueprints.html#L250" class="js-smell-location">4</a>                  </div>  </li></ol>
    deployment_name { Sham.name }
    disk_cid        { Sham.disk_cid }
    instance_name   { Sham.name }
  end

  OrphanedVm.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 2 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L149" class="js-smell-location">0</a>                  <a href="blueprints.html#L171" class="js-smell-location">1</a>                  </div>  </li></ol>
    cid               { Sham.vm_cid }
    deployment_name   { Sham.name }
    instance_name     { Sham.name }
    availability_zone { Sham.name }
    orphaned_at       { Time.now }
  end

  OrphanSnapshot.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 5 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L73" class="js-smell-location">0</a>                  <a href="blueprints.html#L143" class="js-smell-location">1</a>                  <a href="blueprints.html#L157" class="js-smell-location">2</a>                  <a href="blueprints.html#L225" class="js-smell-location">3</a>                  <a href="blueprints.html#L250" class="js-smell-location">4</a>                  </div>  </li></ol>
    orphan_disk         { OrphanDisk.make }
    snapshot_cid        { Sham.snapshot_cid }
    snapshot_created_at { Time.now }
  end

  DeploymentProblem.blueprint do
    deployment  { Deployment.make }
    type        { &#39;inactive_disk&#39; }
    resource_id { PersistentDisk.make.id }
    data_json   { &#39;{}&#39; }
    state       { &#39;open&#39; }
  end

  RenderedTemplatesArchive.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 2 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L149" class="js-smell-location">0</a>                  <a href="blueprints.html#L171" class="js-smell-location">1</a>                  </div>  </li></ol>
    instance     { Instance.make }
    blobstore_id { Sham.blobstore_id }
    sha1         { Sham.sha1 }
    content_sha1 { Sham.sha1 }
    created_at   { Time.now }
  end

  Config.blueprint do
    type { &#39;my-type&#39; }
    name { &#39;some-name&#39; }
    content { &#39;--- {}&#39; }
    created_at { Time.now }
  end

  Config.blueprint(:cloud) do
    type { &#39;cloud&#39; }
    name { &#39;default&#39; }
  end

  Config.blueprint(:cloud_with_manifest) do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 3 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L191" class="js-smell-location">0</a>                  <a href="blueprints.html#L197" class="js-smell-location">1</a>                  <a href="blueprints.html#L213" class="js-smell-location">2</a>                  </div>  </li></ol>
    type { &#39;cloud&#39; }
    name { &#39;default&#39; }
    content { YAML.dump(Bosh::Spec::Deployments.simple_cloud_config) }
  end

  Config.blueprint(:cloud_with_manifest_v2) do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 3 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L191" class="js-smell-location">0</a>                  <a href="blueprints.html#L197" class="js-smell-location">1</a>                  <a href="blueprints.html#L213" class="js-smell-location">2</a>                  </div>  </li></ol>
    type { &#39;cloud&#39; }
    name { &#39;default&#39; }
    content { YAML.dump(Bosh::Spec::NewDeployments.simple_cloud_config) }
  end

  Config.blueprint(:runtime) do
    type { &#39;runtime&#39; }
    name { &#39;default&#39; }
  end

  Config.blueprint(:cpi) do
    type { &#39;cpi&#39; }
    name { &#39;default&#39; }
  end

  Config.blueprint(:cpi_with_manifest) do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 3 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L191" class="js-smell-location">0</a>                  <a href="blueprints.html#L197" class="js-smell-location">1</a>                  <a href="blueprints.html#L213" class="js-smell-location">2</a>                  </div>  </li></ol>
    type { &#39;cpi&#39; }
    name { &#39;default&#39; }
    content { YAML.dump(Bosh::Spec::NewDeployments.multi_cpi_config) }
  end

  DeploymentProperty.blueprint do
    deployment { Deployment.make }
    name       { Sham.name }
    value      { &#39;value&#39; }
  end

  Lock.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 5 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L73" class="js-smell-location">0</a>                  <a href="blueprints.html#L143" class="js-smell-location">1</a>                  <a href="blueprints.html#L157" class="js-smell-location">2</a>                  <a href="blueprints.html#L225" class="js-smell-location">3</a>                  <a href="blueprints.html#L250" class="js-smell-location">4</a>                  </div>  </li></ol>
    name        { Sham.lock_name }
    expired_at  { Time.now }
    uid         { SecureRandom.uuid }
  end

  LogBundle.blueprint do
    timestamp     { Time.now }
    blobstore_id  { Sham.blobstore_id }
  end

  Event.blueprint do
    action      { &#39;create&#39; }
    object_type { &#39;deployment&#39; }
    object_name { Sham.object_name }
    user        { Sham.username }
    timestamp   { Time.now }
  end

  Team.blueprint do
    name { Sham.name }
  end

  ErrandRun.blueprint {}

  Blob.blueprint do<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 5 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L73" class="js-smell-location">0</a>                  <a href="blueprints.html#L143" class="js-smell-location">1</a>                  <a href="blueprints.html#L157" class="js-smell-location">2</a>                  <a href="blueprints.html#L225" class="js-smell-location">3</a>                  <a href="blueprints.html#L250" class="js-smell-location">4</a>                  </div>  </li></ol>
    blobstore_id { Sham.blobstore_id }
    sha1         { Sham.sha1 }
    created_at   { Time.new }
  end

  LocalDnsBlob.blueprint do
    created_at   { Time.new }
    blob         { Blob.make(type: &#39;dns&#39;) }
    version      { 1 }
  end

  LocalDnsEncodedNetwork.blueprint do
    id { 1 }
    name { &#39;fake-network-1&#39; }
  end

  LocalDnsRecord.blueprint do
    ip          { Sham.ip }
    instance_id { Sham.instance_id }
  end

  VariableSet.blueprint do
    deployment { Deployment.make }
  end

  Variable.blueprint {}

  Vm.blueprint do
    instance { Instance.make }
    cid      { Sham.vm_cid }
    agent_id { Sham.agent_id }
    created_at { Time.now }
  end

  module Links<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="https://github.com/troessner/reek/blob/master/docs/Irresponsible-Module.md" target="_blank"><b>IrresponsibleModule</b></a>        </span>      </div>      <span>Bosh::Director::Models::Links has no descriptive comment</span>          </div>  </li></ol>
    LinkProvider.blueprint {}
    LinkProviderIntent.blueprint {}
    LinkConsumer.blueprint {}
    LinkConsumerIntent.blueprint {}
    Link.blueprint {}
  end

  module Dns<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="https://github.com/troessner/reek/blob/master/docs/Irresponsible-Module.md" target="_blank"><b>IrresponsibleModule</b></a>        </span>      </div>      <span>Bosh::Director::Models::Dns has no descriptive comment</span>          </div>  </li></ol>
    Domain.blueprint do
      name     { Sham.name }
      type     { &#39;NATIVE&#39; }
    end

    Record.blueprint do
      domain   { Domain.make }<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 2 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L300" class="js-smell-location">0</a>                  <a href="blueprints.html#L307" class="js-smell-location">1</a>                  </div>  </li></ol>
      name     { Sham.name }
      type     { &#39;A&#39; }
      content  { Sham.ip }
    end

    Record.blueprint(:PTR) do
      domain   { Domain.make }<ol class="nocode errors smells">  <li>    <div class="description">      <div class="heading">        <span>          <i class="fa fa-warning" aria-hidden"true"=""></i>          <a href="http://docs.seattlerb.org/flay/" target="_blank"><b>DuplicateCode</b></a>        </span>      </div>      <span>Similar code found in 2 nodes</span>              <span>Locations:</span>                  <a href="blueprints.html#L300" class="js-smell-location">0</a>                  <a href="blueprints.html#L307" class="js-smell-location">1</a>                  </div>  </li></ol>
      name     { Sham.ptr }
      type     { &#39;PTR&#39; }
      content  { Sham.name }
    end
  end
end
</code>
  </div>
</div>

        </div>
      </div>
    </div>

    <!-- Javascripts -->
    <script src='../../assets/javascripts/jquery.min.js'></script>
    <script src='../../assets/javascripts/jquery.tablesorter.min.js'></script>
    <script src='../../assets/javascripts/jquery.scrollTo.min.js'></script>
    <script src='../../assets/javascripts/jquery.timeago.js'></script>
    <script src='../../assets/javascripts/highcharts.src-4.0.1.js'></script>
    <script src='../../assets/javascripts/prettify.js'></script>
    <script src='../../assets/javascripts/bootstrap.min.js'></script>
    <script src='../../assets/javascripts/application.js'></script>
    <script src='../../assets/javascripts/jquery.filtertable.min.js'></script>
  </body>
</html>
